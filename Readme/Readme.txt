Опис до програми FFT_Frequency_Indicator_F1xx

Генерація налаштувань периферії проєкту виконувалась в STM32CubeMX 6.5.0. Вносити зміни до через STM32CubeMX не бажано, так як в файлі tim.c є зміни, котрі STM32CubeMX прибере,
але налаштунки зберігається в  (#define PERIOD_TIM3_INIT) в файлі "libFFT.h"

В додатку дві прошивки:

FFT_Frequency_Indicator_F1xx_Array_64:
для обробки FFT використовується масив довжиною 64 байт. Відповідає вимогам тестового завдання.
Результати тестування програми представлені в доданому зображенні, де 
FrequencyDetecorData.cycleCounter - загільна кількість запитів;
FrequencyDetecorData.Hz500 та FrequencyDetecorData.Hz1000 - загальна кількість вдалих вимірювань

FFT_Frequency_Indicator_F1xx_Array_256:
якщо результати вашого тестування будуть незадовільними, то версія з масивом довжиною 256 байт має більш високу чутливість
при меньших значеннях амплітуди вхідного сигналу та кращу роздільну здатність.	
В проєкті переключення версії масиву виконується за допомогою (#define FFT_256_NPT) та (#define FFT_64_NPT) в файлі "libFFT.h".
____________________________________________________________________________________________________________________________________________________________________________________

Алгоритм роботи програми
ADC
За допомогою ADC в режимі DMA збираєтсья масив відліків ADC, коли масив буде заповнено ADC вимикаєтсья на час копіювання даних з буферу АЦП до масиву для роботи з FFT.
Якщо дані з масиву для роботи FFT ще не були опрацьовані, програма буде чекати того моменту поки дані опрацюються, після чого передасть нові дані з ADC до масиву
Як тільки дані будуть передані до буферного масиву, ADC знову вмикається та DMA незалежно наповнює свій масив новими даними.

Примітка. Для подальшої оптимізації програми старт ADC може виконуватися за допомогою властивості Analog WatchDog Mode,
котра буде запускати ADC тільки тоді, коли амплітуда вхідного сигналу стане більше встановленого порогового значення. Також DMA можна перевести в режим роботи із Circular в Normal,
але це потребує додаткового часу для відлаки програми.

FFT
Далі дані з масиву для роботи з FFT передаютсья до функції швидкого "швидкого перетворення Фур'є". З отриманих даних розраховується магнітуда сигналу на кожній частоті.
За допомогою парсеру перевіряється наявність сигналів на необхідних частотах, рішення про наявність сигналу приймається відносно порогового значення встановленого експериментальним шляхом.

LED
Керування світлодіодом виконується на базі програмного ШІМ. Реалізація ШІМ виконуєтсья за допомогою властивості таймеру "PWM Generation No Output", котра формує дві колбек функції, котрі запускаються в наслідок переривання таймеру по збігу та переповненню.
Задетектовані дані передаються до функції керування світлодіодом, яка приймає рішення про ввімкнення світлодіода в необхідному режимі.

